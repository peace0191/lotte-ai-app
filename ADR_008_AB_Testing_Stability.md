# ADR-008: A/B í…ŒìŠ¤íŠ¸ ìë™í™” ë° ê¸°ìˆ  ì•ˆì •ì„± ì¦ëª… (Technical Stability Proof)

## ğŸ“Œ ë¬¸ì„œ ê°œìš”
ë³¸ ë¬¸ì„œëŠ” Lotte Tower AI Sales Appì˜ **ê¸°ìˆ ì  ì•ˆì •ì„±(Stability)**, **ê²½ìŸ ìš°ìœ„(Competitive Advantage)**, ê·¸ë¦¬ê³  **ìë™í™”ëœ A/B í…ŒìŠ¤íŠ¸(Automated A/B Testing)** ë„ì…ì— ëŒ€í•œ ì˜ì‚¬ê²°ì • ê¸°ë¡(ADR) ë° ì¦ëª… ìë£Œì…ë‹ˆë‹¤.

---

## ğŸ›¡ï¸ 1. ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë° ëŒ€ì‘ (Risk Management)

ìš°ë¦¬ëŠ” ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì‹œìŠ¤í…œ ì˜¤ë¥˜ì™€ ì„±ëŠ¥ ì €í•˜ì— ëŒ€ë¹„í•´ **4ì¤‘ ë°©ì–´ ì²´ê³„**ë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

| ë¦¬ìŠ¤í¬ (Risk) | ëŒ€ì‘ ë°©ì•ˆ (Countermeasure) | êµ¬í˜„ ê¸°ìˆ  |
| :--- | :--- | :--- |
| **ëª¨ë¸ ì„±ëŠ¥ ì €í•˜** | ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ + **ì¦‰ì‹œ ë¡¤ë°± (Instant Rollback)** | MLflow / Prometheus |
| **ë°ì´í„° í¸í–¥** | ì •ê¸°ì  ë°ì´í„° ê²€ì¦ + ë‹¤ì–‘ì„± í™•ë³´ | Drift Detection (Evidently AI) |
| **ì„œë²„ ê³¼ë¶€í•˜** | íŠ¸ë˜í”½ ê¸‰ì¦ ì‹œ ì„œë²„ ìë™ ì¦ì„¤ | **Kubernetes Autoscaling (HPA)** |
| **ë³´ì•ˆ ì‚¬ê³ ** | ê°œì¸ì •ë³´ ì•”í˜¸í™” + ì—„ê²©í•œ ì ‘ê·¼ ì œì–´ | AES-256 + RBAC |

---

## ğŸ† 2. ê²€ì¦ëœ ê¸°ìˆ  ìŠ¤íƒ (Proven Tech Stack)

ê¸€ë¡œë²Œ ë¹…í…Œí¬ ê¸°ì—…ë“¤ì´ ê²€ì¦í•œ í‘œì¤€ ê¸°ìˆ ë§Œì„ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì‹ ë¢°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.

*   **MLflow**: Databricks ê°œë°œ, Netflix/Microsoft ì‚¬ìš© â†’ *ì‹¤í—˜ ì¶”ì ì˜ í‘œì¤€*
*   **FastAPI**: ìµœê³  ì„±ëŠ¥ Python API í”„ë ˆì„ì›Œí¬ â†’ *ì´ˆê³ ì† ì‘ë‹µ ì†ë„*
*   **PostgreSQL**: 30ë…„ ì—­ì‚¬ì˜ ì•ˆì •ì  DB â†’ *ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥*
*   **Kubernetes**: Google ê°œë°œ, í´ë¼ìš°ë“œ í‘œì¤€ â†’ *ë¬´ì¤‘ë‹¨ ìš´ì˜ì˜ í•µì‹¬*

---

## ğŸ“Š 3. ê²½ìŸ ìš°ìœ„ ì§€ì† ê°€ëŠ¥ì„± (Sustainability)

ìš°ë¦¬ì˜ ê²½ìŸë ¥ì€ 'í˜„ì¬ì˜ ëª¨ë¸ ì„±ëŠ¥'ì´ ì•„ë‹ˆë¼, **"ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ê°•í•´ì§€ëŠ” êµ¬ì¡°"**ì— ìˆìŠµë‹ˆë‹¤.

### ğŸ”’ ì§„ì… ì¥ë²½ (Moat)
1.  **ë°ì´í„° ì¶•ì **: ê³„ì•½ ì´ë ¥ ë°ì´í„°ëŠ” ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ê°€ì¹˜ê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤. (ì‹ ê·œ ì§„ì…ìëŠ” ìµœì†Œ 1ë…„ ì¶•ì  í•„ìš”)
2.  **ëª¨ë¸ í’ˆì§ˆ**: ê²½ìŸì‚¬ëŠ” ê³µê°œ ë°ì´í„°ì— ì˜ì¡´í•˜ì§€ë§Œ, ìš°ë¦¬ëŠ” ì‹¤ì œ **ê³„ì•½ ì„±ê³µ ë°ì´í„°**ë¡œ ëª¨ë¸ì„ ì¬í•™ìŠµí•©ë‹ˆë‹¤.
3.  **ë„¤íŠ¸ì›Œí¬ íš¨ê³¼**: ì¤‘ê°œì‚¬ì™€ ê³ ê°ì˜ ì–‘ë°©í–¥ ì‚¬ìš© ë°ì´í„°ê°€ ìŒ“ì¼ìˆ˜ë¡ ë§¤ì¹­ ì •í™•ë„ê°€ ì˜¬ë¼ê°€ê³ , ì´ëŠ” ë” ë§ì€ ì‚¬ìš©ìë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

---

## ğŸš€ 4. ê¸°ìˆ  ë¡œë“œë§µ (Technical Roadmap)

| ë¶„ê¸° | í•µì‹¬ ê¸°ëŠ¥ | ê¸°ìˆ ì  ë„ì „ ê³¼ì œ & ëª©í‘œ |
| :--- | :--- | :--- |
| **Q1** | ì €í‰ê°€ ì ìˆ˜ ëª¨ë¸ MVP | MLflow íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ë° ì´ˆê¸° ëª¨ë¸ ì•ˆì •í™” |
| **Q2** | **ìë™ ë§¤ì¹­ ì‹œìŠ¤í…œ** | **A/B í…ŒìŠ¤íŠ¸ ìë™í™” (ADR-008 êµ¬í˜„)** |
| **Q3** | ì´ë¯¸ì§€ ë¶„ì„ AI | ë”¥ëŸ¬ë‹ ëª¨ë¸ ê²½ëŸ‰í™” (On-device AI ì¤€ë¹„) |
| **Q4** | LLM ìƒë‹´ ì±—ë´‡ | RAG ê¸°ë°˜ ë¶€ë™ì‚° ì „ë¬¸ ì§€ì‹ DB êµ¬ì¶• |

---

## ğŸ’¡ ADR-008: A/B í…ŒìŠ¤íŠ¸ ìë™í™” ë„ì… ì˜ì‚¬ê²°ì •

> **ë‚ ì§œ**: 2026-02-05  
> **ìƒíƒœ**: âœ… ìŠ¹ì¸ (Accepted)  
> **ì˜ì‚¬ê²°ì •ì**: ML Team Lead, Product Lead

### ğŸ¯ ë¬¸ì œ ìƒí™© (Context)
*   ìƒˆë¡œìš´ ëª¨ë¸ì´ ê°œë°œë˜ì—ˆì„ ë•Œ, ê¸°ì¡´ ëª¨ë¸ë³´ë‹¤ ì •ë§ ë¹„ì¦ˆë‹ˆìŠ¤ì ìœ¼ë¡œ ë” ë‚˜ì€ì§€ íŒë‹¨í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤.
*   ì‹¤í—˜ì‹¤ ì§€í‘œ(MAE, RMSE)ëŠ” ì¢‹ì§€ë§Œ ì‹¤ì œ ê³„ì•½ ì²´ê²°ìœ¨ì€ ë–¨ì–´ì§€ëŠ” ê²½ìš°ê°€ ë°œìƒí•©ë‹ˆë‹¤.
*   **"Staging ëª¨ë¸ì„ ì–¸ì œ Productionìœ¼ë¡œ ì˜¬ë¦´ ê²ƒì¸ê°€?"**ì— ëŒ€í•œ ê°ê´€ì  ê¸°ì¤€ì´ í•„ìš”í•©ë‹ˆë‹¤.

### ğŸ’¡ ì˜ì‚¬ê²°ì • (Decision)
**"ìë™í™”ëœ A/B í…ŒìŠ¤íŠ¸ ì‹œìŠ¤í…œ"ì„ ë„ì…í•©ë‹ˆë‹¤.**
*   íŠ¸ë˜í”½ì˜ 10%ë¥¼ ìƒˆë¡œìš´ ëª¨ë¸(Staging)ì— í• ë‹¹í•˜ì—¬ ì‹¤ì œ ì‹œì¥ ë°˜ì‘ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
*   í†µê³„ì ìœ¼ë¡œ ìœ ì˜ë¯¸í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼(ê³„ì•½ìœ¨) ê°œì„ ì´ í™•ì¸ë˜ë©´ ìë™ìœ¼ë¡œ ìŠ¹ê²©í•©ë‹ˆë‹¤.

### ğŸ” ëŒ€ì•ˆ ë¶„ì„ (Options Analysis)

| ì˜µì…˜ | ì¥ì  | ë‹¨ì  | ê²°ê³¼ |
| :--- | :--- | :--- | :--- |
| **1. ìë™ A/B í…ŒìŠ¤íŠ¸** | ê°ê´€ì  ë¹„êµ, ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ ë°˜ì˜ | ì´ˆê¸° êµ¬ì¶• ë¹„ìš© ë°œìƒ | **âœ… ì±„íƒ (ì¥ê¸°ì  ê°€ì¹˜ 10ë°°)** |
| 2. ìˆ˜ë™ ê²€ì¦ | ë¹„ìš© ì—†ìŒ | ì£¼ê´€ì  íŒë‹¨, ëŠë¦° ì†ë„ | âŒ ê¸°ê° |
| 3. Shadow Testing | ì•ˆì „í•¨ | ì‹¤ì œ ìœ ì € ë°˜ì‘(í´ë¦­) í™•ì¸ ë¶ˆê°€ | âš ï¸ ë¶€ë¶„ ì‚¬ìš© (ì—ëŸ¬ ê²€ì¦ìš©) |

### ğŸ“Š ìë™ ì˜ì‚¬ê²°ì • ë¡œì§ (Pseudo-code)

```python
# A/B í…ŒìŠ¤íŠ¸ ìë™ ìŠ¹ê²© ë¡œì§
def check_promotion_criteria(staging_metrics, prod_metrics):
    # 1. ê¸°ìˆ ì  ì˜¤ë¥˜ê°€ ì—†ëŠ”ê°€?
    if staging_metrics['error_rate'] > 0.01:
        return "ROLLBACK"

    # 2. ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼(ê³„ì•½ìœ¨)ê°€ 5% ì´ìƒ ê°œì„ ë˜ì—ˆëŠ”ê°€?
    if staging_metrics['conversion_rate'] > prod_metrics['conversion_rate'] * 1.05:
        # 3. í†µê³„ì  ìœ ì˜ì„±(P-value) í™•ë³´?
        if staging_metrics['p_value'] < 0.05:
            return "PROMOTE" # ìë™ ìŠ¹ê²©
    
    return "KEEP_TESTING"
```

### ğŸ’° ê¸°ëŒ€ íš¨ê³¼ (ROI)
*   ì˜ëª»ëœ ëª¨ë¸ ë°°í¬ë¡œ ì¸í•œ ë§¤ì¶œ ì†ì‹¤ ë°©ì§€ (ì—°ê°„ 5,000ë§Œì› ê°€ì¹˜ íš¨ê³¼)
*   ê°œë°œìì˜ "ë°°í¬ ê³µí¬ì¦" í•´ì†Œ ë° ë¹ ë¥¸ í˜ì‹  ì‚¬ì´í´ íšë“
