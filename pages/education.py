from __future__ import annotations
import streamlit as st

def render():
    st.markdown("## ğŸ“ ëŒ€ì¹˜ë™ êµìœ¡í™˜ê²½")
    
    st.markdown("<h3 style='color:#d4af37;'>ğŸ« ëŒ€ì¹˜ë™ êµìœ¡í™˜ê²½ ì •ë³´</h3>", unsafe_allow_html=True)
    
    st.markdown("""
        <div style="background: rgba(26, 26, 46, 0.9); border: 1px solid rgba(212, 175, 55, 0.3); border-radius: 16px; padding: 40px; color: #fff; line-height: 2.2; margin-bottom:30px;">
            <p>â€¢ **ëŒ€ì¹˜ì´ˆë“±í•™êµ** (ëŒ€ì¹˜SKë·° ë„ë³´ 3ë¶„)</p>
            <p>â€¢ **ëŒ€ë„ì´ˆë“±í•™êµ** (ëŒ€ì¹˜ì•„ì´íŒŒí¬ ë„ë³´ 5ë¶„)</p>
            <p>â€¢ **ëŒ€ì²­ì¤‘í•™êµ** (ë‚¨ë…€ê³µí•™, ëŒ€ì¹˜íŒ°ë¦¬ìŠ¤ ë„ë³´ 4ë¶„)</p>
            <p>â€¢ **ë‹¨ëŒ€ë¶€ì¤‘í•™êµ** (ëŒ€ì¹˜SKë·° ë„ë³´ 5ë¶„)</p>
            <p>â€¢ **ìˆ™ëª…ì—¬ìê³ ë“±í•™êµ** (ëŒ€ì¹˜SKë·° ë„ë³´ 6ë¶„)</p>
            <p>â€¢ **ë‹¨ëŒ€ë¶€ê³ ë“±í•™êµ** (ëŒ€ì¹˜ì•„ì´íŒŒí¬ ë„ë³´ 5ë¶„)</p>
            <br>
            <h4 style="color: #d4af37; margin-bottom: 20px;">ğŸ¤ í•™ì›ê°€ ì •ë³´</h4>
            <p>â€¢ ëŒ€ì¹˜ë™ í•™ì›ê°€ ë©”ì¸ (ë„ë³´ 1ë¶„)</p>
            <p>â€¢ ëŒ€í˜• í•™ì› ë°€ì§‘ ì§€ì—­</p>
            <p>â€¢ ì•ˆì „í•œ í†µí•™ë¡œ í™•ë³´</p>
            <p>â€¢ í•œí‹°ì—­ ì„¸ê¶Œ (ì‚¼í™˜ì•„ë¥´ëˆ„ë³´2)</p>
            <br>
            <h4 style="color: #d4af37; margin-bottom: 20px;">ğŸ“ ë‹¨ì§€ë³„ í•™êµ° íŠ¹ì§•</h4>
            <p><span style="background:#4A90E2; color:white; padding:2px 8px; border-radius:4px; font-weight:bold; margin-right:8px;">1</span> <strong>ë˜ë¯¸ì•ˆëŒ€ì¹˜íŒ°ë¦¬ìŠ¤</strong> - ëŒ€ì¥ ì•„íŒŒíŠ¸, ëŒ€ì²­ì¤‘ ìµœê·¼ì ‘</p>
            <p><span style="background:#4A90E2; color:white; padding:2px 8px; border-radius:4px; font-weight:bold; margin-right:8px;">2</span> <strong>ëŒ€ì¹˜SKë·°</strong> - í•™ì›ê°€ ë©”ì¸, ëŒ€ì¹˜ì´ˆ ë°°ì •</p>
            <p><span style="background:#4A90E2; color:white; padding:2px 8px; border-radius:4px; font-weight:bold; margin-right:8px;">3</span> <strong>ëŒ€ì¹˜ì•„ì´íŒŒí¬</strong> - ëª…ë¬¸í•™êµ° ë„ë³´ê¶Œ, ë‹¨ëŒ€ë¶€ê³  ì¸ê·¼</p>
            <p><span style="background:#4A90E2; color:white; padding:2px 8px; border-radius:4px; font-weight:bold; margin-right:8px;">4</span> <strong>ëŒ€ì¹˜ì€ë§ˆì•„íŒŒíŠ¸</strong> - êµìœ¡ ì¤‘ì‹¬ íˆ¬ì 1ìˆœìœ„</p>
        </div>
    """, unsafe_allow_html=True)

    st.markdown("<br>", unsafe_allow_html=True)
    st.markdown("<div style='margin-bottom:15px; font-weight:bold; color:#d4af37; font-size:16px; border-bottom:1px solid rgba(212,175,55,0.2); padding-bottom:10px;'>ğŸ¯ êµìœ¡í™˜ê²½ ë¹ ë¥¸ ìƒë‹´ (í´ë¦­ ì‹œ ì±—ë´‡ìœ¼ë¡œ ì—°ê²°)</div>", unsafe_allow_html=True)
    
    edu_examples = [
        "ëŒ€ì¹˜ë™ í•™ì›ê°€ì™€ ê°€ì¥ ê°€ê¹Œìš´ ì•„íŒŒíŠ¸ëŠ”?",
        "ëŒ€ì¹˜ì´ˆ, ëŒ€ë„ì´ˆ ë°°ì • ë‹¨ì§€ëŠ” ì–´ë””ì¸ê°€ìš”?",
        "ëŒ€ì¹˜ë™ì—ì„œ ìœ í•´ì‹œì„¤ ì—†ëŠ” ì¡°ìš©í•œ ë‹¨ì§€ ì¶”ì²œí•´ì£¼ì„¸ìš”.",
        "ë°¤ëŠ¦ê²Œ ê·€ê°€í•˜ëŠ” ìë…€ì—ê²Œ ì•ˆì „í•œ ì•„íŒŒíŠ¸ëŠ”?",
        "ë„ë³´ë¡œ ëŒ€ì¹˜ë™ í•™ì›ê°€ ì´ìš© ê°€ëŠ¥í•œ ë§¤ë¬¼ ìœ„ì£¼ë¡œ ë³´ì—¬ì£¼ì„¸ìš”.",
        "ë‹¨ëŒ€ë¶€ì¤‘ê³  ë°°ì • ê°€ëŠ¥í•œ ì „ì„¸ ë§¤ë¬¼ ìˆë‚˜ìš”?"
    ]

    def go_chat_edu_with_q(q_text):
        st.session_state["main_menu_widget"] = "ğŸ’¬ AI ì±—ë´‡"
        st.session_state.menu_index = 3
        st.session_state.education_context = True
        st.session_state.chat_origin = "education"
        # Initial chat setup with the question
        st.session_state.chat = [{"role":"assistant","content":"ì•ˆë…•í•˜ì„¸ìš”! êµìœ¡ í™˜ê²½ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹  ì ì„ í•´ê²°í•´ ë“œë¦´ê²Œìš”."}]
        # We can't easily trigger the 'build_response' here without importing, 
        # but we can set a flag for chatbot to process it. 
        # For now, let's just jump and set the first message.
        st.session_state.chat.append({"role":"user", "content": q_text})
        st.rerun()

    cols = st.columns(2)
    for i, ex in enumerate(edu_examples):
        cols[i % 2].button(ex, key=f"edu_ex_{i}", use_container_width=True, on_click=go_chat_edu_with_q, args=(ex,))

    st.markdown("---")
    st.subheader("ğŸš€ ë¹ ë¥¸ ë©”ë‰´ ì´ë™ (ëª©ë¡ê°€ê¸°)")

    def nav_to(label, idx, edu_ctx=False):
        st.session_state["main_menu_widget"] = label
        st.session_state.menu_index = idx
        st.session_state.education_context = edu_ctx
        if edu_ctx:
            st.session_state.chat_origin = "education"
            st.session_state.chat = [{"role":"assistant","content":"ì•ˆë…•í•˜ì„¸ìš”! êµìœ¡ í™˜ê²½ì— ëŒ€í•´ ê¶ê¸ˆí•˜ì‹  ì ì„ í•´ê²°í•´ ë“œë¦´ê²Œìš”."}]
        st.rerun()

    nav_cols = st.columns(3)
    nav_cols[0].button("ğŸ  ì „ì²´ ë§¤ë¬¼ ëª©ë¡ë³´ê¸°", use_container_width=True, type="primary", on_click=nav_to, args=("ğŸ  ì¶”ì²œë§¤ë¬¼", 1))
    nav_cols[1].button("ğŸ¯ AI ì €í‰ê°€", use_container_width=True, type="primary", on_click=nav_to, args=("ğŸ¯ AI ì €í‰ê°€", 2))
    nav_cols[2].button("ğŸ’¬ AI í”„ë¦¬ë¯¸ì—„ ìƒë‹´", use_container_width=True, type="primary", on_click=nav_to, args=("ğŸ’¬ AI ì±—ë´‡", 3, True))

